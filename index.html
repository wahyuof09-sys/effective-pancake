<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WAHYU SHOP - Topup & PPOB</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ==================== RESET & BASE ==================== */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ffffff 0%, #f0f0f0 100%);
            color: #000;
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* ==================== LOADING ==================== */
        .loading { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0, 0, 0, 0.9); z-index: 99999; justify-content: center; align-items: center; }
        .loading-spinner { width: 60px; height: 60px; border: 5px solid rgba(255, 255, 255, 0.3); 
            border-top: 5px solid #ffffff; border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* ==================== LOGIN MODAL ==================== */
        .login-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0, 0, 0, 0.98); display: flex; justify-content: center; 
            align-items: center; z-index: 10000; animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        .login-box { background: white; padding: 40px; border-radius: 15px; width: 90%; 
            max-width: 400px; text-align: center; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3); 
            border: 2px solid #000; animation: slideUp 0.4s ease-out; }
        @keyframes slideUp { from { transform: translateY(30px); opacity: 0; } 
            to { transform: translateY(0); opacity: 1; } }

        .login-logo { display: flex; align-items: center; justify-content: center; 
            gap: 12px; margin-bottom: 25px; color: #000; }
        .login-logo i { font-size: 36px; }
        .login-logo h1 { font-size: 28px; font-weight: 800; }
        .login-logo span { color: #333; }
        .login-title { font-size: 24px; margin-bottom: 12px; color: #000; font-weight: 700; }
        .login-subtitle { color: #666; margin-bottom: 30px; font-size: 15px; }
        
        .input-group { margin-bottom: 20px; text-align: left; }
        .input-group label { display: block; margin-bottom: 8px; color: #000; 
            font-weight: 600; font-size: 14px; }
        .input-group input, .input-group select { width: 100%; padding: 14px 16px; 
            border: 1px solid #ddd; border-radius: 10px; font-size: 16px; 
            transition: all 0.3s; background: #fafafa; }
        .input-group input:focus, .input-group select:focus { outline: none; 
            border-color: #000; box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1); background: white; }
        
        .login-btn { width: 100%; padding: 16px; background: #000; color: white; 
            border: none; border-radius: 10px; font-size: 16px; font-weight: 700; 
            cursor: pointer; transition: all 0.3s; margin-top: 10px; 
            display: flex; align-items: center; justify-content: center; gap: 10px; }
        .login-btn:hover { background: #222; transform: translateY(-2px); 
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15); }
        
        .login-error { color: #ff4444; margin-top: 12px; font-size: 14px; 
            display: none; text-align: center; padding: 10px; 
            background: rgba(255, 68, 68, 0.1); border-radius: 8px; 
            border: 1px solid rgba(255, 68, 68, 0.3); }
        .login-note { margin-top: 25px; color: #666; font-size: 13px; line-height: 1.5; }
        .login-note i { color: #000; margin-right: 5px; }

        /* ==================== NAVBAR ==================== */
        .navbar { position: fixed; top: 0; width: 100%; background: rgba(255, 255, 255, 0.98); 
            padding: 18px 25px; display: none; justify-content: space-between; 
            align-items: center; z-index: 1000; border-bottom: 1px solid #e0e0e0; 
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08); backdrop-filter: blur(10px); 
            -webkit-backdrop-filter: blur(10px); }
        
        .logo { display: flex; align-items: center; gap: 12px; }
        .logo i { color: #000; font-size: 26px; }
        .logo h1 { font-size: 22px; color: #000; font-weight: 800; }
        .logo span { color: #333; }
        
        .menu-btn { display: none; background: none; border: none; color: #000; 
            font-size: 26px; cursor: pointer; padding: 5px; transition: transform 0.3s; }
        .menu-btn:hover { transform: scale(1.1); }
        
        .nav-links { display: flex; list-style: none; gap: 30px; }
        .nav-links a { color: #333; text-decoration: none; padding: 8px 0; 
            transition: all 0.3s; font-weight: 600; font-size: 15px; position: relative; }
        .nav-links a::after { content: ''; position: absolute; bottom: 0; left: 0; 
            width: 0; height: 2px; background: #000; transition: width 0.3s; }
        .nav-links a:hover { color: #000; }
        .nav-links a:hover::after { width: 100%; }

        /* ==================== MOBILE MENU ==================== */
        .mobile-menu { position: fixed; top: 0; right: -100%; width: 320px; height: 100%; 
            background: #fff; z-index: 2000; transition: right 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
            padding: 25px; box-shadow: -10px 0 40px rgba(0, 0, 0, 0.15); 
            border-left: 1px solid #ddd; overflow-y: auto; }
        .mobile-menu.active { right: 0; }
        
        .mobile-header { display: flex; justify-content: space-between; 
            align-items: center; margin-bottom: 25px; padding-bottom: 20px; 
            border-bottom: 1px solid #eee; }
        .mobile-header h2 { color: #000; font-weight: 800; font-size: 22px; }
        
        .close-btn { background: none; border: none; color: #000; font-size: 24px; 
            cursor: pointer; width: 40px; height: 40px; border-radius: 50%; 
            display: flex; align-items: center; justify-content: center; 
            transition: background 0.3s; }
        .close-btn:hover { background: rgba(0, 0, 0, 0.05); }

        /* ==================== USER PROFILE ==================== */
        .user-profile-section { padding: 15px; background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); 
            border-radius: 12px; margin-bottom: 20px; border: 1px solid #e0e0e0; 
            cursor: pointer; transition: all 0.3s; }
        .user-profile-section:hover { background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%); 
            transform: translateY(-3px); box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1); }
        
        .user-profile-header { display: flex; align-items: center; gap: 12px; margin-bottom: 10px; }
        .user-avatar { width: 50px; height: 50px; border-radius: 50%; 
            background: linear-gradient(135deg, #000000 0%, #333333 100%); 
            color: white; display: flex; align-items: center; justify-content: center; 
            font-size: 20px; font-weight: 700; flex-shrink: 0; 
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1); }
        
        .user-info { flex: 1; min-width: 0; }
        .user-name { font-weight: 700; color: #000; font-size: 15px; 
            margin-bottom: 3px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .user-email { font-size: 13px; color: #666; white-space: nowrap; 
            overflow: hidden; text-overflow: ellipsis; }
        
        .developer-badge { background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%); 
            color: #000; padding: 3px 8px; border-radius: 20px; font-size: 10px; 
            font-weight: 800; display: inline-flex; align-items: center; 
            gap: 5px; margin-top: 5px; box-shadow: 0 2px 8px rgba(255, 215, 0, 0.3); }
        
        .super-admin-badge { background: linear-gradient(135deg, #ff6b6b 0%, #ff8e53 100%); 
            color: white; padding: 3px 8px; border-radius: 20px; font-size: 10px; 
            font-weight: 800; display: inline-flex; align-items: center; 
            gap: 5px; margin-top: 5px; box-shadow: 0 2px 8px rgba(255, 107, 107, 0.3); }
        
        .profile-hint { text-align: center; font-size: 11px; color: #666; 
            margin-top: 8px; font-style: italic; }
        .profile-hint i { margin-right: 5px; }

        /* ==================== MOBILE LINKS ==================== */
        .mobile-links { list-style: none; }
        .mobile-links li { margin-bottom: 8px; }
        .mobile-links a { color: #333; text-decoration: none; 
            display: flex; align-items: center; gap: 15px; padding: 15px 18px; 
            border-radius: 12px; transition: all 0.3s; font-weight: 600; font-size: 15px; }
        .mobile-links a:hover { background: rgba(0, 0, 0, 0.05); transform: translateX(5px); }
        
        .mobile-links .developer-item { background: linear-gradient(135deg, #000000 0%, #333333 100%); 
            color: white; font-weight: 700; }
        .mobile-links .developer-item:hover { 
            background: linear-gradient(135deg, #333333 0%, #000000 100%); transform: translateX(5px); }
        
        .mobile-links .super-admin-item { 
            background: linear-gradient(135deg, #ff6b6b 0%, #ff8e53 100%); color: white; font-weight: 700; }
        .mobile-links .super-admin-item:hover { 
            background: linear-gradient(135deg, #ff8e53 0%, #ff6b6b 100%); transform: translateX(5px); }
        
        .mobile-links .social-link-item { 
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%); color: white; }
        .mobile-links .social-link-item:hover { 
            background: linear-gradient(135deg, #128C7E 0%, #25D366 100%); transform: translateX(5px); }
        
        .mobile-links .logout-btn { color: #ff4444; border: 1px solid #ff4444; 
            background: rgba(255, 68, 68, 0.05); margin-top: 15px; font-weight: 700; }
        .mobile-links .logout-btn:hover { background: rgba(255, 68, 68, 0.15); transform: translateX(5px); }
        
        .menu-divider { height: 1px; 
            background: linear-gradient(to right, transparent, #e0e0e0, transparent); margin: 20px 0; }

        /* ==================== MAIN CONTENT ==================== */
        .main-content { display: none; padding-top: 100px; max-width: 1200px; 
            margin: 0 auto; padding: 120px 25px 60px; }
        
        .header { text-align: center; margin-bottom: 60px; }
        .header h1 { font-size: 42px; margin-bottom: 20px; color: #000; 
            font-weight: 800; line-height: 1.2; }
        .header p { color: #666; font-size: 18px; max-width: 700px; 
            margin: 0 auto 40px; line-height: 1.7; }

        /* ==================== PROFILE LOGO ==================== */
        .profile { width: 200px; height: 200px; border-radius: 50%; margin: 40px auto; 
            border: 4px solid #000; padding: 6px; background: #fff; 
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15); transition: transform 0.3s, box-shadow 0.3s; 
            cursor: pointer; position: relative; overflow: hidden; }
        .profile:hover { transform: scale(1.05); box-shadow: 0 20px 50px rgba(0, 0, 0, 0.25); }
        .profile img { width: 100%; height: 100%; border-radius: 50%; 
            object-fit: cover; transition: transform 0.3s; }
        .profile:hover img { transform: scale(1.05); }
        
        .edit-profile-btn { position: absolute; top: 10px; right: 10px; 
            background: linear-gradient(135deg, #000000 0%, #333333 100%); 
            color: white; border: none; width: 40px; height: 40px; border-radius: 50%; 
            cursor: pointer; display: none; align-items: center; justify-content: center; 
            font-size: 16px; transition: all 0.3s; z-index: 10; 
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2); }
        .profile:hover .edit-profile-btn { display: flex; }
        .edit-profile-btn:hover { 
            background: linear-gradient(135deg, #333333 0%, #000000 100%); 
            transform: scale(1.1) rotate(15deg); }

        /* ==================== SECTION TITLE ==================== */
        .section-title { font-size: 32px; margin-bottom: 40px; color: #000; 
            display: flex; align-items: center; gap: 15px; font-weight: 800; }
        .section-title i { font-size: 28px; color: #000; }

        /* ==================== PRODUCTS ==================== */
        .products { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); 
            gap: 20px; margin-bottom: 70px; }
        
        .product { background: #fff; border-radius: 15px; padding: 20px; text-align: center; 
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); 
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.06); position: relative; overflow: hidden; 
            background: linear-gradient(white, white) padding-box,
                        linear-gradient(135deg, #f0f0f0 0%, #e0e0e0 100%) border-box;
            border: 2px solid transparent; }
        .product:hover { transform: translateY(-8px); 
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.12); 
            border-image: linear-gradient(135deg, #000 0%, #333 100%) 1; }
        
        .delete-product-btn { position: absolute; top: 15px; right: 15px; 
            background: #ff4444; color: white; border: none; width: 34px; height: 34px; 
            border-radius: 50%; cursor: pointer; display: none; align-items: center; 
            justify-content: center; font-size: 14px; transition: all 0.3s; z-index: 2; }
        .product:hover .delete-product-btn { display: flex; }
        
        .edit-product-btn { position: absolute; top: 15px; left: 15px; 
            background: #0088cc; color: white; border: none; width: 34px; height: 34px; 
            border-radius: 50%; cursor: pointer; display: none; align-items: center; 
            justify-content: center; font-size: 14px; transition: all 0.3s; z-index: 2; }
        .product:hover .edit-product-btn { display: flex; }
        .edit-product-btn:hover { background: #0077b3; transform: scale(1.1); }
        
        .product-inner { position: relative; padding-bottom: 15px; }
        .product-inner::after { content: ''; position: absolute; bottom: 0; left: 10%; 
            width: 80%; height: 1px; 
            background: linear-gradient(to right, transparent, #e0e0e0, transparent); }
        
        .product-icon { font-size: 42px; color: #000; margin-bottom: 15px; 
            height: 70px; display: flex; align-items: center; justify-content: center; }
        .product-icon i { filter: drop-shadow(0 4px 6px rgba(0,0,0,0.1)); }
        
        .product-name { font-size: 18px; font-weight: 700; margin-bottom: 10px; color: #000; 
            min-height: 50px; display: flex; align-items: center; justify-content: center; }
        
        .product-badge { display: inline-block; padding: 3px 10px; border-radius: 12px; 
            font-size: 10px; font-weight: bold; color: white; margin-left: 10px; vertical-align: middle; }
        
        .product-description { color: #666; font-size: 13px; margin-bottom: 12px; 
            line-height: 1.4; min-height: 35px; }
        
        .product-price { font-size: 16px; color: #000; font-weight: 700; margin: 15px 0; 
            padding: 10px 0; border-top: 1px solid #eee; border-bottom: 1px solid #eee; }
        
        .order-btn { width: 100%; padding: 14px; 
            background: linear-gradient(135deg, #000000 0%, #333333 100%); 
            color: white; border: none; border-radius: 8px; font-weight: 700; 
            cursor: pointer; display: flex; align-items: center; justify-content: center; 
            gap: 8px; transition: all 0.3s; font-size: 14px; letter-spacing: 0.3px; }
        .order-btn:hover { 
            background: linear-gradient(135deg, #333333 0%, #000000 100%); 
            transform: translateY(-2px); box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2); }

        /* ==================== TESTIMONI vs PRODUK ==================== */
        .testimonial-product-section { margin: 80px 0; position: relative; overflow: hidden; }
        
        .split-container { display: flex; flex-direction: column; background: #fff; 
            border-radius: 20px; overflow: hidden; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1); 
            border: 1px solid #e0e0e0; min-height: 500px; }
        
        @media (min-width: 992px) {
            .split-container { flex-direction: row; min-height: 600px; }
        }

        /* KIRI: TESTIMONI */
        .testimonial-side { flex: 1; padding: 40px; 
            background: linear-gradient(135deg, #f8f5f2 0%, #e9ecef 100%); 
            display: flex; flex-direction: column; justify-content: center; 
            position: relative; order: 1; }
        
        @media (min-width: 992px) {
            .testimonial-side { order: 1; }
        }
        
        .testimonial-side-header { margin-bottom: 30px; }
        .testimonial-side-title { font-size: 28px; font-weight: 800; color: #000; 
            display: flex; align-items: center; gap: 15px; margin-bottom: 10px; }
        .testimonial-side-title i { color: #ffd700; font-size: 32px; }
        .testimonial-side-subtitle { color: #666; font-size: 16px; line-height: 1.6; }
        
        .testimonial-slider { position: relative; flex: 1; display: flex; align-items: center; }
        .testimonial-track { display: flex; transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1); width: 100%; }
        .testimonial-item { min-width: 100%; padding: 25px; background: rgba(255, 255, 255, 0.9); 
            border-radius: 15px; border: 1px solid rgba(0, 0, 0, 0.1); 
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08); 
            backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); }
        
        .testimonial-content { font-size: 16px; line-height: 1.8; color: #333; 
            margin-bottom: 20px; font-style: italic; position: relative; padding-left: 25px; }
        .testimonial-content::before { content: '"'; position: absolute; left: 0; top: -10px; 
            font-size: 60px; color: rgba(0, 0, 0, 0.1); font-family: Georgia, serif; line-height: 1; }
        
        .testimonial-author { display: flex; align-items: center; gap: 15px; }
        .author-avatar { width: 50px; height: 50px; border-radius: 50%; 
            background: linear-gradient(135deg, #000 0%, #333 100%); color: white; 
            display: flex; align-items: center; justify-content: center; 
            font-weight: 700; font-size: 18px; flex-shrink: 0; }
        
        .author-info { flex: 1; }
        .author-name { font-weight: 700; color: #000; margin-bottom: 3px; }
        .author-title { font-size: 14px; color: #666; }
        .testimonial-stars { color: #ffd700; font-size: 18px; margin-top: 5px; display: flex; gap: 2px; }
        
        .testimonial-controls { display: flex; justify-content: center; gap: 15px; margin-top: 30px; }
        .testimonial-nav-btn { width: 50px; height: 50px; border-radius: 50%; border: 2px solid #000; 
            background: white; color: #000; cursor: pointer; display: flex; align-items: center; 
            justify-content: center; font-size: 20px; transition: all 0.3s; }
        .testimonial-nav-btn:hover { background: #000; color: white; transform: scale(1.1); }
        
        .testimonial-dots { display: flex; gap: 10px; justify-content: center; margin-top: 20px; }
        .testimonial-dot { width: 10px; height: 10px; border-radius: 50%; background: #ddd; 
            cursor: pointer; transition: all 0.3s; }
        .testimonial-dot.active { background: #000; transform: scale(1.2); }

        /* KANAN: PRODUK */
        .product-side { flex: 1; padding: 40px; 
            background: linear-gradient(135deg, #000 0%, #222 100%); color: white; 
            display: flex; flex-direction: column; justify-content: center; 
            position: relative; order: 2; }
        
        @media (min-width: 992px) {
            .product-side { order: 2; }
        }
        
        .product-side-header { margin-bottom: 30px; }
        .product-side-title { font-size: 28px; font-weight: 800; color: white; 
            display: flex; align-items: center; gap: 15px; margin-bottom: 10px; }
        .product-side-title i { color: #4ECDC4; font-size: 32px; }
        .product-side-subtitle { color: rgba(255, 255, 255, 0.8); font-size: 16px; line-height: 1.6; }
        
        .product-features { margin: 30px 0; }
        .product-feature { display: flex; align-items: center; gap: 15px; margin-bottom: 20px; 
            padding: 15px; background: rgba(255, 255, 255, 0.08); border-radius: 12px; 
            border-left: 4px solid #4ECDC4; transition: all 0.3s; }
        .product-feature:hover { background: rgba(255, 255, 255, 0.12); transform: translateX(5px); }
        
        .feature-icon { width: 50px; height: 50px; border-radius: 12px; 
            background: linear-gradient(135deg, #4ECDC4 0%, #44A08D 100%); 
            display: flex; align-items: center; justify-content: center; font-size: 22px; flex-shrink: 0; }
        
        .feature-text { flex: 1; }
        .feature-title { font-weight: 700; margin-bottom: 5px; font-size: 16px; }
        .feature-desc { font-size: 14px; color: rgba(255, 255, 255, 0.7); line-height: 1.5; }
        
        .product-cta { margin-top: 30px; }
        .product-price-tag { font-size: 42px; font-weight: 800; color: #4ECDC4; 
            margin-bottom: 10px; text-shadow: 0 2px 10px rgba(78, 205, 196, 0.3); }
        .product-price-note { color: rgba(255, 255, 255, 0.7); margin-bottom: 25px; font-size: 14px; }
        
        .product-cta-buttons { display: flex; gap: 15px; flex-wrap: wrap; }
        .cta-primary { flex: 1; padding: 16px 30px; 
            background: linear-gradient(135deg, #4ECDC4 0%, #44A08D 100%); 
            color: white; border: none; border-radius: 12px; font-weight: 700; 
            font-size: 16px; cursor: pointer; display: flex; align-items: center; 
            justify-content: center; gap: 10px; transition: all 0.3s; min-width: 200px; }
        .cta-primary:hover { transform: translateY(-3px); 
            box-shadow: 0 10px 30px rgba(78, 205, 196, 0.4); }
        
        .cta-secondary { padding: 16px 30px; background: rgba(255, 255, 255, 0.1); 
            color: white; border: 2px solid rgba(255, 255, 255, 0.3); border-radius: 12px; 
            font-weight: 700; font-size: 16px; cursor: pointer; display: flex; 
            align-items: center; justify-content: center; gap: 10px; transition: all 0.3s; }
        .cta-secondary:hover { background: rgba(255, 255, 255, 0.2); 
            border-color: rgba(255, 255, 255, 0.5); transform: translateY(-3px); }

        /* ==================== ANNOUNCEMENT ==================== */
        .announcement-section { margin-top: 80px; margin-bottom: 70px; }
        .announcement-box { background: linear-gradient(135deg, #000000 0%, #222222 100%); 
            color: white; padding: 35px; border-radius: 20px; 
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.25); position: relative; 
            border: 3px solid #ffd700; max-width: 900px; margin-left: auto; margin-right: auto; overflow: hidden; }
        .announcement-box::before { content: ''; position: absolute; top: -50%; left: -50%; 
            width: 200%; height: 200%; 
            background: linear-gradient(45deg, transparent, rgba(255, 215, 0, 0.1), transparent); 
            animation: shine 3s infinite linear; }
        @keyframes shine { 0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); } 
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); } }
        
        .announcement-header { display: flex; align-items: center; 
            justify-content: space-between; margin-bottom: 20px; 
            padding-bottom: 15px; border-bottom: 2px solid rgba(255, 255, 255, 0.2); }
        .announcement-title { display: flex; align-items: center; gap: 15px; 
            font-size: 22px; font-weight: 800; }
        .announcement-title i { color: #ffd700; font-size: 26px; }
        
        .announcement-content { font-size: 16px; line-height: 1.8; padding: 25px; 
            background: rgba(255, 255, 255, 0.08); border-radius: 15px; min-height: 180px; 
            backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .announcement-date { text-align: right; font-size: 14px; 
            color: rgba(255, 255, 255, 0.7); margin-top: 20px; font-style: italic; }
        .announcement-date i { margin-right: 8px; color: #ffd700; }

        /* ==================== FOOTER ==================== */
        footer { display: none; text-align: center; padding: 40px 25px; 
            border-top: 1px solid #ddd; color: #666; margin-top: 70px; background: #fafafa; }
        footer p { margin-bottom: 15px; font-size: 15px; }
        
        .footer-login-info { margin-top: 20px; font-size: 14px; 
            display: flex; align-items: center; justify-content: center; gap: 15px; flex-wrap: wrap; }
        .footer-login-info i { color: #000; }
        #userEmail { font-weight: 600; color: #000; }
        
        .logout-small-btn { padding: 8px 16px; background: #000; color: white; 
            border: none; border-radius: 6px; font-size: 13px; cursor: pointer; 
            display: flex; align-items: center; gap: 5px; transition: all 0.3s; }
        .logout-small-btn:hover { background: #333; transform: translateY(-2px); }

        /* ==================== TELEGRAM FLOAT ==================== */
        .telegram-float { position: fixed; bottom: 35px; right: 35px; width: 65px; height: 65px; 
            background: linear-gradient(135deg, #0088cc 0%, #24A1DE 100%); color: white; 
            border-radius: 50%; display: none; align-items: center; justify-content: center; 
            font-size: 30px; text-decoration: none; box-shadow: 0 10px 30px rgba(0, 136, 204, 0.3); 
            z-index: 100; transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); }
        .telegram-float:hover { transform: scale(1.15) rotate(5deg); 
            box-shadow: 0 15px 40px rgba(0, 136, 204, 0.4); }
        .telegram-float:active { transform: scale(0.95); }

        /* ==================== MODALS ==================== */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0,0,0,0.95); z-index: 3000; align-items: center; 
            justify-content: center; animation: fadeIn 0.3s; }
        .modal-content { background: #fff; padding: 35px; border-radius: 20px; 
            text-align: center; max-width: 450px; width: 90%; position: relative; 
            border: 2px solid #000; box-shadow: 0 25px 80px rgba(0, 0, 0, 0.4); 
            animation: modalSlideUp 0.4s ease-out; }
        @keyframes modalSlideUp { from { transform: translateY(40px); opacity: 0; } 
            to { transform: translateY(0); opacity: 1; } }
        
        .modal-content h3 { margin-bottom: 25px; color: #000; font-weight: 800; 
            font-size: 24px; display: flex; align-items: center; justify-content: center; gap: 12px; }
        
        .modal-close { position: absolute; top: -15px; right: -15px; width: 45px; height: 45px; 
            background: #000; border: none; border-radius: 50%; color: white; 
            font-size: 22px; cursor: pointer; display: flex; align-items: center; 
            justify-content: center; transition: all 0.3s; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
        .modal-close:hover { background: #333; transform: rotate(90deg); }

        /* ==================== EDIT MODALS ==================== */
        .edit-modal, .edit-social-modal, .add-product-modal { display: none; 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0, 0, 0, 0.95); z-index: 3001; 
            align-items: center; justify-content: center; }
        
        .edit-box, .edit-social-box, .add-product-box { background: white; padding: 40px; 
            border-radius: 20px; width: 90%; max-width: 600px; border: 3px solid #000; 
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.4); max-height: 90vh; overflow-y: auto; }
        
        .edit-title, .edit-social-title, .add-product-title { font-size: 26px; 
            margin-bottom: 30px; color: #000; display: flex; align-items: center; 
            gap: 15px; font-weight: 800; }
        
        .edit-textarea { width: 100%; height: 250px; padding: 20px; border: 2px solid #ddd; 
            border-radius: 15px; font-size: 16px; margin-bottom: 25px; resize: vertical; 
            line-height: 1.6; font-family: inherit; }
        .edit-textarea:focus { outline: none; border-color: #000; 
            box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1); }
        
        .edit-social-input { width: 100%; padding: 16px 20px; border: 2px solid #ddd; 
            border-radius: 12px; font-size: 16px; margin-bottom: 20px; transition: all 0.3s; }
        .edit-social-input:focus { outline: none; border-color: #000; 
            box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1); }
        
        .edit-buttons { display: flex; gap: 15px; justify-content: flex-end; margin-top: 30px; }
        .cancel-btn, .back-btn { background: #666; color: white; border: none; 
            padding: 14px 28px; border-radius: 10px; cursor: pointer; 
            font-weight: 600; font-size: 15px; transition: all 0.3s; }
        .cancel-btn:hover, .back-btn:hover { background: #555; transform: translateY(-2px); }
        
        .save-btn { background: linear-gradient(135deg, #000000 0%, #333333 100%); 
            color: white; border: none; padding: 14px 28px; border-radius: 10px; 
            cursor: pointer; font-weight: 700; font-size: 15px; 
            display: flex; align-items: center; gap: 10px; transition: all 0.3s; }
        .save-btn:hover { background: linear-gradient(135deg, #333333 0%, #000000 100%); 
            transform: translateY(-2px); box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2); }

        /* ==================== MYSTERY BOX PAGE STYLES ==================== */
        .mystery-page { background: linear-gradient(135deg, #0f0c29, #302b63, #24243e); 
            color: white; min-height: 100vh; padding: 20px; }
        
        .mystery-header { text-align: center; padding: 40px 0 20px; }
        .mystery-header h1 { font-size: 3rem; margin-bottom: 10px; 
            background: linear-gradient(90deg, #FFD700, #FFA500); 
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; 
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.5); }
        .mystery-header p { color: #aaa; font-size: 1.1rem; max-width: 600px; margin: 0 auto; }
        
        .mystery-container { display: flex; flex-direction: column; 
            align-items: center; gap: 40px; margin-top: 30px; max-width: 1200px; 
            margin-left: auto; margin-right: auto; }
        
        .box-wrapper { position: relative; width: 300px; height: 300px; perspective: 1000px; cursor: pointer; }
        .box { width: 100%; height: 100%; position: relative; transform-style: preserve-3d; 
            transition: transform 1s cubic-bezier(0.4, 0, 0.2, 1); }
        .box.opened { transform: rotateY(180deg); }
        
        .box-front, .box-back { position: absolute; width: 100%; height: 100%; 
            backface-visibility: hidden; border-radius: 20px; 
            display: flex; flex-direction: column; justify-content: center; 
            align-items: center; padding: 30px; }
        
        .box-front { background: linear-gradient(145deg, #1a1a2e, #16213e); 
            border: 5px solid #FFD700; 
            box-shadow: 0 0 60px rgba(255, 215, 0, 0.3),
                       inset 0 0 40px rgba(255, 215, 0, 0.1); }
        
        .box-back { background: linear-gradient(145deg, #16213e, #0f3460); 
            border: 5px solid #4ECDC4; transform: rotateY(180deg); 
            box-shadow: 0 0 60px rgba(78, 205, 196, 0.3),
                       inset 0 0 40px rgba(78, 205, 196, 0.1); }
        
        .box-icon { font-size: 6rem; margin-bottom: 20px; 
            filter: drop-shadow(0 0 20px currentColor); }
        .box-front .box-icon { color: #FFD700; animation: pulse 2s infinite; }
        .box-back .box-icon { color: #4ECDC4; }
        
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
        
        .box-title { font-size: 2rem; font-weight: 800; margin-bottom: 10px; text-align: center; }
        .box-subtitle { color: #aaa; text-align: center; font-size: 0.9rem; line-height: 1.4; }
        
        .mystery-open-btn { padding: 18px 50px; font-size: 1.3rem; font-weight: 700; 
            background: linear-gradient(90deg, #FFD700, #FFA500); color: #000; 
            border: none; border-radius: 50px; cursor: pointer; transition: all 0.3s; 
            display: flex; align-items: center; gap: 15px; 
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.3); margin-top: 20px; }
        .mystery-open-btn:hover:not(:disabled) { transform: translateY(-5px); 
            box-shadow: 0 15px 40px rgba(255, 215, 0, 0.5); }
        .mystery-open-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        
        .mystery-timer-section { background: rgba(0, 0, 0, 0.3); padding: 25px; 
            border-radius: 20px; border: 2px solid rgba(255, 255, 255, 0.1); 
            width: 100%; max-width: 500px; text-align: center; margin-top: 20px; }
        
        .mystery-timer-title { font-size: 1.2rem; margin-bottom: 15px; color: #FFD700; 
            display: flex; align-items: center; justify-content: center; gap: 10px; }
        
        .mystery-timer { font-size: 2.5rem; font-weight: 800; 
            font-family: 'Courier New', monospace; color: #4ECDC4; 
            margin: 15px 0; text-shadow: 0 0 20px rgba(78, 205, 196, 0.5); }
        
        .mystery-daily-limit { background: rgba(255, 255, 255, 0.05); 
            padding: 15px; border-radius: 15px; margin-top: 20px; 
            display: flex; justify-content: space-between; align-items: center; }
        
        .mystery-limit-count { font-size: 1.3rem; font-weight: 700; color: #FFD700; }
        
        .mystery-reward-display { background: linear-gradient(145deg, rgba(26, 26, 46, 0.9), rgba(22, 33, 62, 0.9)); 
            padding: 30px; border-radius: 20px; border: 3px solid #FFD700; 
            width: 100%; max-width: 500px; text-align: center; margin-top: 20px; 
            display: none; animation: fadeIn 0.5s; }
        
        .mystery-reward-name { font-size: 2.5rem; font-weight: 800; color: #4ECDC4; 
            margin: 15px 0; text-shadow: 0 0 20px rgba(78, 205, 196, 0.5); }
        
        .mystery-claim-btn { padding: 15px 40px; font-size: 1.1rem; font-weight: 700; 
            background: linear-gradient(90deg, #25D366, #128C7E); color: white; 
            border: none; border-radius: 50px; cursor: pointer; display: flex; 
            align-items: center; justify-content: center; gap: 10px; 
            margin: 0 auto; transition: all 0.3s; }
        .mystery-claim-btn:hover { transform: translateY(-3px); 
            box-shadow: 0 10px 30px rgba(37, 211, 102, 0.3); }
        
        .mystery-rewards-section { background: rgba(0, 0, 0, 0.3); padding: 30px; 
            border-radius: 20px; width: 100%; max-width: 800px; margin-top: 40px; }
        
        .mystery-rewards-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); 
            gap: 20px; margin-top: 20px; }
        
        .mystery-reward-item { background: rgba(255, 255, 255, 0.05); padding: 20px; 
            border-radius: 15px; border: 1px solid rgba(255, 255, 255, 0.1); 
            text-align: center; transition: all 0.3s; }
        .mystery-reward-item:hover { transform: translateY(-5px); 
            border-color: #FFD700; background: rgba(255, 215, 0, 0.05); }
        
        .mystery-reward-item-icon { font-size: 2.5rem; margin-bottom: 15px; color: #4ECDC4; }
        .mystery-reward-item-chance { font-size: 0.9rem; color: #FFD700; 
            background: rgba(255, 215, 0, 0.1); padding: 5px 10px; 
            border-radius: 20px; display: inline-block; }
        
        .mystery-history-section { background: rgba(0, 0, 0, 0.3); padding: 30px; 
            border-radius: 20px; width: 100%; max-width: 800px; margin-top: 40px; display: none; }
        
        .mystery-history-item { background: rgba(255, 255, 255, 0.05); 
            padding: 15px; border-radius: 10px; margin-bottom: 10px; 
            display: flex; justify-content: space-between; align-items: center; 
            border-left: 4px solid #4ECDC4; }
        
        .mystery-back-btn { position: fixed; top: 20px; left: 20px; padding: 12px 25px; 
            background: rgba(0, 0, 0, 0.5); color: white; border: 1px solid #FFD700; 
            border-radius: 50px; cursor: pointer; display: flex; align-items: center; 
            gap: 10px; z-index: 100; transition: all 0.3s; }
        .mystery-back-btn:hover { background: rgba(255, 215, 0, 0.1); transform: translateX(-5px); }
        
        .mystery-admin-panel { background: rgba(0, 0, 0, 0.5); padding: 30px; 
            border-radius: 20px; border: 2px solid #ff4444; 
            width: 100%; max-width: 800px; margin-top: 40px; display: none; }
        
        /* ==================== RESPONSIVE ==================== */
        @media (max-width: 1024px) {
            .main-content { padding: 110px 20px 50px; }
            .announcement-box { padding: 30px; }
        }
        
        @media (max-width: 768px) {
            .menu-btn { display: block; }
            .nav-links { display: none; }
            .navbar { padding: 15px 20px; }
            .main-content { padding: 100px 15px 40px; }
            .header h1 { font-size: 32px; }
            .header p { font-size: 16px; margin-bottom: 30px; }
            .profile { width: 160px; height: 160px; }
            .edit-profile-btn { width: 35px; height: 35px; font-size: 14px; }
            .announcement-box { padding: 25px; }
            .announcement-content { padding: 20px; font-size: 15px; }
            .section-title { font-size: 28px; }
            .products { grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; }
            .product { padding: 15px; }
            .product-icon { font-size: 36px; height: 60px; margin-bottom: 12px; }
            .product-name { font-size: 16px; min-height: 45px; }
            .mobile-menu { width: 300px; padding: 20px; }
            .user-avatar { width: 45px; height: 45px; font-size: 18px; }
            .telegram-float { width: 55px; height: 55px; font-size: 26px; bottom: 25px; right: 25px; }
            .edit-box, .edit-social-box, .add-product-box { padding: 30px 20px; }
            .box-wrapper { width: 250px; height: 250px; }
            .box-icon { font-size: 4.5rem; }
            .mystery-timer { font-size: 2rem; }
            .mystery-rewards-grid { grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); }
        }
        
        @media (max-width: 480px) {
            .main-content { padding: 90px 12px 30px; }
            .header h1 { font-size: 26px; }
            .profile { width: 140px; height: 140px; }
            .announcement-box { padding: 20px; }
            .products { grid-template-columns: 1fr; }
            .product { padding: 15px; }
            .product-icon { font-size: 32px; height: 50px; }
            .product-name { font-size: 15px; min-height: 40px; }
            .mobile-menu { width: 280px; padding: 15px; }
            .login-box { padding: 30px 20px; }
            .telegram-float { width: 50px; height: 50px; font-size: 24px; bottom: 20px; right: 20px; }
            .edit-buttons { flex-direction: column; }
            .cancel-btn, .save-btn { width: 100%; justify-content: center; }
            .box-wrapper { width: 200px; height: 200px; }
            .box-title { font-size: 1.5rem; }
            .mystery-open-btn { padding: 15px 30px; font-size: 1.1rem; }
        }
    </style>
</head>
<body>
    <!-- LOADING -->
    <div class="loading" id="loading">
        <div class="loading-spinner"></div>
    </div>
    
    <!-- MODAL ORDER PRODUK -->
    <div class="modal" id="orderModal">
        <div class="modal-content">
            <h3 style="display: flex; align-items: center; gap: 10px;">
                <i class="fas fa-shopping-cart" style="color: #4CAF50;"></i>
                <span id="modalProductName">Order Produk</span>
            </h3>
            
            <div style="text-align: center; margin: 20px 0;">
                <div style="font-size: 16px; color: #666; margin-bottom: 10px;">
                    Untuk order produk, silakan hubungi admin melalui:
                </div>
            </div>
            
            <!-- TELEGRAM BUTTON -->
            <div style="background: linear-gradient(135deg, #0088cc 0%, #24A1DE 100%); 
                       color: white; padding: 20px; border-radius: 15px; margin: 20px 0;
                       text-align: center;">
                <div style="font-size: 40px; margin-bottom: 10px;">
                    <i class="fab fa-telegram"></i>
                </div>
                <h4 style="margin: 0 0 10px 0;">TELEGRAM</h4>
                <p style="margin: 0 0 15px 0; opacity: 0.9; font-size: 14px;">
                    Klik tombol di bawah untuk chat admin
                </p>
                
                <a id="telegramOrderLink" href="#" target="_blank" 
                   style="background: white; color: #0088cc; padding: 12px 30px; 
                          border-radius: 25px; text-decoration: none; font-weight: bold;
                          display: inline-flex; align-items: center; gap: 10px;
                          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);">
                    <i class="fab fa-telegram"></i>
                    <span>Chat Admin Telegram</span>
                </a>
            </div>
            
            <!-- WHATSAPP BUTTON -->
            <div style="background: linear-gradient(135deg, #25D366 0%, #128C7E 100%); 
                       color: white; padding: 20px; border-radius: 15px; margin: 20px 0;
                       text-align: center;">
                <div style="font-size: 40px; margin-bottom: 10px;">
                    <i class="fab fa-whatsapp"></i>
                </div>
                <h4 style="margin: 0 0 10px 0;">WHATSAPP</h4>
                <p style="margin: 0 0 15px 0; opacity: 0.9; font-size: 14px;">
                    Klik tombol di bawah untuk chat admin
                </p>
                
                <a id="whatsappOrderLink" href="#" target="_blank" 
                   style="background: white; color: #25D366; padding: 12px 30px; 
                          border-radius: 25px; text-decoration: none; font-weight: bold;
                          display: inline-flex; align-items: center; gap: 10px;
                          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);">
                    <i class="fab fa-whatsapp"></i>
                    <span>Chat Admin WhatsApp</span>
                </a>
            </div>
            
            <!-- INSTRUCTIONS -->
            <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin: 15px 0;">
                <h4 style="margin: 0 0 10px 0; color: #1565c0;">
                    <i class="fas fa-info-circle"></i> Cara Order:
                </h4>
                <div style="font-size: 13px; line-height: 1.6;">
                    1. Klik salah satu tombol di atas<br>
                    2. Chat admin untuk konfirmasi produk<br>
                    3. Kirim bukti transfer<br>
                    4. Dapatkan akses ke grup Telegram
                </div>
            </div>
            
            <div style="display: flex; gap: 10px; margin-top: 25px;">
                <button class="cancel-btn" onclick="closeOrderModal()" style="flex: 1;">
                    <i class="fas fa-times"></i> Tutup
                </button>
                <button class="save-btn" onclick="copyOrderInfo()" style="flex: 2;">
                    <i class="fas fa-copy"></i> Salin Info Kontak
                </button>
            </div>
            
            <button class="modal-close" onclick="closeOrderModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>
    
    <!-- LOGIN MODAL -->
    <div class="login-modal" id="loginModal">
        <div class="login-box">
            <div class="login-logo">
                <i class="fas fa-store"></i>
                <h1>WAHYU<span>SHOP</span></h1>
            </div>
            
            <h2 class="login-title">Masuk ke WAHYU SHOP</h2>
            <p class="login-subtitle">Silakan login dengan email Anda untuk mengakses website</p>
            
            <form id="loginForm">
                <div class="input-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" placeholder="contoh@email.com" required>
                </div>
                
                <div class="input-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" placeholder="Masukkan password" required>
                </div>
                
                <div class="login-error" id="loginError">
                    Email atau password salah. Coba lagi.
                </div>
                
                <button type="submit" class="login-btn">
                    <i class="fas fa-sign-in-alt"></i> Masuk ke Website
                </button>
                
                <p class="login-note">
                    <i class="fas fa-info-circle"></i> Gunakan email dan password apa saja untuk mencoba
                </p>
            </form>
        </div>
    </div>
    
    <!-- EDIT MODAL -->
    <div class="edit-modal" id="editModal">
        <div class="edit-box">
            <h2 class="edit-title"><i class="fas fa-edit"></i> Edit Pengumuman</h2>
            <textarea class="edit-textarea" id="announcementText" placeholder="Tulis pengumuman atau kuis di sini..."></textarea>
            <div class="edit-buttons">
                <button class="cancel-btn" onclick="closeEditModal()">Batal</button>
                <button class="save-btn" onclick="saveAnnouncement()"><i class="fas fa-save"></i> Simpan</button>
            </div>
        </div>
    </div>
    
    <!-- ADD PRODUCT MODAL -->
    <div class="add-product-modal" id="addProductModal">
        <div class="add-product-box">
            <h2 class="add-product-title"><i class="fas fa-plus-circle"></i> Tambah Produk Baru</h2>
            
            <div class="input-group">
                <label for="productName">Nama Produk</label>
                <input type="text" id="productName" class="edit-social-input" placeholder="Contoh: MURBUG, JASA WEBSITE, dll">
            </div>
            
            <div class="input-group">
                <label for="productPrice">Harga Produk</label>
                <input type="text" id="productPrice" class="edit-social-input" placeholder="Contoh: Rp 5.000 atau Rp 10.000 - 20.000">
            </div>
            
            <div class="input-group">
                <label for="productIcon">Icon Produk</label>
                <select id="productIcon" class="edit-social-input">
                    <option value="fas fa-mobile-alt">üì± Mobile (fa-mobile-alt)</option>
                    <option value="fas fa-sun">‚òÄÔ∏è Sun (fa-sun)</option>
                    <option value="fas fa-file-powerpoint">üìä PowerPoint (fa-file-powerpoint)</option>
                </select>
            </div>
            
            <div class="input-group">
                <label for="productTelegramLink">Link Telegram Grup</label>
                <input type="text" id="productTelegramLink" class="edit-social-input" placeholder="https://t.me/+xxxxxxxxxxxxx">
            </div>
            
            <div class="input-group">
                <label for="productDescription">Deskripsi Singkat</label>
                <input type="text" id="productDescription" class="edit-social-input" placeholder="Deskripsi singkat produk">
            </div>
            
            <div id="addProductError" class="error-message"></div>
            
            <div class="edit-buttons">
                <button class="cancel-btn" onclick="closeAddProductModal()">Batal</button>
                <button class="save-btn" onclick="addNewProduct()"><i class="fas fa-plus"></i> Tambah Produk</button>
            </div>
        </div>
    </div>
    
    <!-- EDIT PRODUCT LINK MODAL -->
    <div class="modal" id="editProductLinkModal">
        <div class="modal-content">
            <h3><i class="fas fa-link"></i> Edit Link Telegram Produk</h3>
            
            <div class="input-group">
                <label for="editProductName">Nama Produk</label>
                <input type="text" id="editProductName" class="edit-social-input" readonly>
            </div>
            
            <div class="input-group">
                <label for="editTelegramLink">Link Telegram Grup</label>
                <input type="text" id="editTelegramLink" class="edit-social-input" placeholder="https://t.me/+xxxxxxxxxxxxx">
            </div>
            
            <div id="editProductError" style="color: #ff4444; margin: 10px 0; display: none;"></div>
            
            <div style="display: flex; gap: 10px; margin-top: 25px;">
                <button class="cancel-btn" onclick="closeEditProductLinkModal()">Batal</button>
                <button class="save-btn" onclick="saveProductTelegramLink()"><i class="fas fa-save"></i> Simpan</button>
            </div>
            
            <button class="modal-close" onclick="closeEditProductLinkModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>
    
    <!-- NAVBAR -->
    <nav class="navbar" id="mainNavbar">
        <div class="logo">
            <i class="fas fa-store"></i>
            <h1>WAHYU<span>SHOP</span></h1>
        </div>
        
        <!-- DESKTOP NAV -->
        <ul class="nav-links">
            <li><a href="#home">Beranda</a></li>
            <li><a href="#products">Produk</a></li>
            <li><a href="#testimonial">Testimoni</a></li>
            <li><a href="javascript:void(0)" onclick="openMysteryBoxPage()">Mystery Box üéÅ</a></li>
        </ul>
        
        <!-- HAMBURGER BUTTON -->
        <button class="menu-btn" id="menuBtn">
            <i class="fas fa-bars"></i>
        </button>
    </nav>
    
    <!-- MOBILE MENU -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-header">
            <h2>Menu</h2>
            <button class="close-btn" id="closeBtn">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <!-- USER PROFILE SECTION -->
        <div class="user-profile-section" id="mobileUserProfile" onclick="openProfilePage()">
            <div class="user-profile-header">
                <div class="user-avatar" id="userAvatar">
                    U
                </div>
                <div class="user-info">
                    <div class="user-name" id="mobileUserName">
                        Loading...
                    </div>
                    <div class="user-email" id="mobileUserEmail">
                        user@example.com
                    </div>
                    <div class="developer-badge" id="developerBadge">
                        <i class="fas fa-crown"></i> DEVELOPER
                    </div>
                </div>
            </div>
            <div class="profile-hint">
                <i class="fas fa-user-circle"></i> Klik untuk lihat profil
            </div>
        </div>
        
        <ul class="mobile-links">
            <li><a href="#home"><i class="fas fa-home"></i> Beranda</a></li>
            <li><a href="#products"><i class="fas fa-shopping-cart"></i> Produk</a></li>
            <li><a href="#testimonial"><i class="fas fa-star"></i> Testimoni</a></li>
            <li><a href="javascript:void(0)" onclick="openMysteryBoxPage()" 
                   style="background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%); color: #000; font-weight: 700;">
                <i class="fas fa-gift"></i> Mystery Box üéÅ
            </a></li>
            
            <div class="menu-divider"></div>
            
            <!-- MENU DEVELOPER -->
            <div id="developerMenu">
                <li><a href="#" onclick="openEditModal()" class="developer-item">
                    <i class="fas fa-edit"></i> Edit Pengumuman
                </a></li>
                <li><a href="#" onclick="openAddProductModal()" class="developer-item">
                    <i class="fas fa-plus-circle"></i> Tambah Produk
                </a></li>
                
                <div class="menu-divider"></div>
            </div>
            
            <!-- LOGOUT BUTTON -->
            <li>
                <a href="#" onclick="mobileLogout()" class="logout-btn">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </a>
            </li>
        </ul>
    </div>
    
    <!-- MAIN CONTENT (WAHYU SHOP) -->
    <main class="main-content" id="mainContent">
        <!-- HEADER -->
        <header class="header" id="home">
            <h1>WEBSITE WAHYUSHOP</h1>
            <p>Daftar Produk & Layanan dengan Harga Terjangkau</p>
            
            <!-- LOGO PROFIL -->
            <div class="profile" onclick="openZoomModal()">
                <button class="edit-profile-btn" onclick="openEditProfileModal(event)" title="Ubah Foto Profil">
                    <i class="fas fa-camera"></i>
                </button>
                <img src="https://files.catbox.moe/f41szo.jpg" 
                     alt="Logo Wahyushop"
                     id="profilePicture"
                     onerror="this.src='https://via.placeholder.com/200x200/000000/FFFFFF?text=WAHYU+SHOP'; this.onerror=null;">
            </div>
        </header>
        
        <!-- PRODUCTS -->
        <section id="products">
            <h2 class="section-title"><i class="fas fa-shopping-cart"></i> Daftar Produk</h2>
            
            <div class="products" id="productsContainer">
                <!-- Produk akan dimuat dari localStorage -->
            </div>
        </section>
        
        <!-- ==================== TESTIMONI vs PRODUK SPLIT SECTION ==================== -->
        <section class="testimonial-product-section" id="testimonial">
            <div class="split-container">
                <!-- KIRI: TESTIMONI -->
                <div class="testimonial-side">
                    <div class="testimonial-side-header">
                        <h2 class="testimonial-side-title">
                            <i class="fas fa-star"></i> TESTIMONI PELANGGAN
                        </h2>
                        <p class="testimonial-side-subtitle">
                            Lihat apa kata pelanggan yang sudah menggunakan produk kami
                        </p>
                    </div>
                    
                    <div class="testimonial-slider">
                        <div class="testimonial-track" id="testimonialTrack">
                            <!-- Testimoni 1 -->
                            <div class="testimonial-item">
                                <div class="testimonial-content">
                                    "MURBUG beneran murah banget! Udah beli 5x dan selalu puas. Adminnya fast respon, proses cepet banget. Recommended banget buat yang mau topup game!"
                                </div>
                                <div class="testimonial-author">
                                    <div class="author-avatar">B</div>
                                    <div class="author-info">
                                        <div class="author-name">Budi Santoso</div>
                                        <div class="author-title">Gamer Mobile Legends</div>
                                        <div class="testimonial-stars">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Testimoni 2 -->
                            <div class="testimonial-item">
                                <div class="testimonial-content">
                                    "MURPP membantu banget buat tugas kuliah. Presentasinya jadi keren, dosen ngasih nilai A. Harganya murah tapi kualitas premium. Bakal order lagi nih!"
                                </div>
                                <div class="testimonial-author">
                                    <div class="author-avatar">S</div>
                                    <div class="author-info">
                                        <div class="author-name">Sari Dewi</div>
                                        <div class="author-title">Mahasiswa Universitas</div>
                                        <div class="testimonial-stars">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star-half-alt"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Testimoni 3 -->
                            <div class="testimonial-item">
                                <div class="testimonial-content">
                                    "Jasa website paymentnya mantap! Toko online saya sekarang bisa terima pembayaran via QRIS. Transaksi lancar, adminnya juga sabar ngajarin. Sukses terus WahyuShop!"
                                </div>
                                <div class="testimonial-author">
                                    <div class="author-avatar">A</div>
                                    <div class="author-info">
                                        <div class="author-name">Andi Wijaya</div>
                                        <div class="author-title">Pemilik Online Shop</div>
                                        <div class="testimonial-stars">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Navigation Controls -->
                    <div class="testimonial-controls">
                        <button class="testimonial-nav-btn" id="prevTestimonial">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button class="testimonial-nav-btn" id="nextTestimonial">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                    
                    <div class="testimonial-dots" id="testimonialDots">
                        <span class="testimonial-dot active"></span>
                        <span class="testimonial-dot"></span>
                        <span class="testimonial-dot"></span>
                    </div>
                </div>
                
                <!-- KANAN: PRODUK -->
                <div class="product-side">
                    <div class="product-side-header">
                        <h2 class="product-side-title">
                            <i class="fas fa-crown"></i> PRODUK UNGGULAN
                        </h2>
                        <p class="product-side-subtitle">
                            Produk terbaik dengan harga spesial untuk kamu
                        </p>
                    </div>
                    
                    <!-- Product Features -->
                    <div class="product-features">
                        <div class="product-feature">
                            <div class="feature-icon">
                                <i class="fas fa-bolt"></i>
                            </div>
                            <div class="feature-text">
                                <div class="feature-title">PROSES INSTANT</div>
                                <div class="feature-desc">Pemesanan diproses dalam hitungan menit setelah pembayaran</div>
                            </div>
                        </div>
                        
                        <div class="product-feature">
                            <div class="feature-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <div class="feature-text">
                                <div class="feature-title">GARANSI AMAN</div>
                                <div class="feature-desc">Uang kembali 100% jika ada masalah dengan produk</div>
                            </div>
                        </div>
                        
                        <div class="product-feature">
                            <div class="feature-icon">
                                <i class="fas fa-headset"></i>
                            </div>
                            <div class="feature-text">
                                <div class="feature-title">SUPPORT 24 JAM</div>
                                <div class="feature-desc">Admin siap membantu kapan saja via Telegram/WhatsApp</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- CTA Section -->
                    <div class="product-cta">
                        <div class="product-price-tag">Rp 5.000<span style="font-size: 20px;">*</span></div>
                        <div class="product-price-note">
                            *Mulai dari Rp 5.000 untuk MURSUN<br>
                            Akses grup Telegram lifetime
                        </div>
                        
                        <div class="product-cta-buttons">
                            <button class="cta-primary" onclick="scrollToProducts()">
                                <i class="fas fa-shopping-cart"></i> LIHAT SEMUA PRODUK
                            </button>
                            <button class="cta-secondary" onclick="showGeneralOrderModal()">
                                <i class="fas fa-question-circle"></i> TANYA ADMIN
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- ANNOUNCEMENT BOX -->
        <div class="announcement-section">
            <div class="announcement-box" id="announcementBox">
                <div class="announcement-header">
                    <div class="announcement-title">
                        <i class="fas fa-bullhorn"></i>
                        <span>PENGUMUMAN WAHYUSHOP</span>
                    </div>
                </div>
                <div class="announcement-content" id="announcementContent">
                    <!-- Konten pengumuman akan dimuat dari localStorage -->
                </div>
                <div class="announcement-date">
                    <i class="far fa-calendar"></i> 
                    <span id="announcementDate">Loading...</span>
                </div>
            </div>
        </div>
    </main>
    
    <!-- MYSTERY BOX PAGE (HIDDEN INITIALLY) -->
    <div class="mystery-page" id="mysteryPage" style="display: none;">
        <button class="mystery-back-btn" onclick="closeMysteryBoxPage()">
            <i class="fas fa-arrow-left"></i> Kembali ke Shop
        </button>
        
        <div class="mystery-container">
            <!-- HEADER -->
            <div class="mystery-header">
                <h1>üéÅ HARTA KARUN MYSTERY BOX</h1>
                <p>Buka mystery box dan dapatkan hadiah menarik setiap hari! Kesempatan terbatas!</p>
            </div>

            <!-- MYSTERY BOX -->
            <div class="box-wrapper" id="boxWrapper">
                <div class="box" id="mysteryBox">
                    <!-- FRONT SIDE (CLOSED) -->
                    <div class="box-front">
                        <div class="box-icon">
                            <i class="fas fa-gift"></i>
                        </div>
                        <div class="box-title">MYSTERY BOX</div>
                        <div class="box-subtitle">Klik buka untuk mendapatkan hadiah misteri</div>
                    </div>
                    
                    <!-- BACK SIDE (OPENED) -->
                    <div class="box-back" id="boxBack">
                        <div class="box-icon" id="rewardIcon">
                            <i class="fas fa-question"></i>
                        </div>
                        <div class="box-title" id="rewardTitle">???</div>
                        <div class="box-subtitle" id="rewardSubtitle">Hadiah akan muncul di sini</div>
                    </div>
                </div>
            </div>

            <!-- OPEN BUTTON -->
            <button class="mystery-open-btn" id="mysteryOpenBtn" onclick="openMysteryBox()">
                <i class="fas fa-lock-open"></i> BUKA MYSTERY BOX
            </button>

            <!-- TIMER SECTION -->
            <div class="mystery-timer-section">
                <div class="mystery-timer-title">
                    <i class="fas fa-clock"></i> WAKTU TUNGGU BERIKUTNYA
                </div>
                <div class="mystery-timer" id="mysteryTimer">
                    00:00:00
                </div>
                
                <!-- DAILY LIMIT -->
                <div class="mystery-daily-limit">
                    <div style="font-size: 1rem;">
                        <i class="fas fa-redo"></i> Kesempatan Hari Ini:
                    </div>
                    <div class="mystery-limit-count">
                        <span id="currentAttempts">0</span> / <span id="maxAttempts">3</span>
                    </div>
                </div>
            </div>

            <!-- REWARD DISPLAY -->
            <div class="mystery-reward-display" id="mysteryRewardDisplay">
                <div style="font-size: 1.5rem; color: #FFD700; margin-bottom: 15px; 
                    display: flex; align-items: center; justify-content: center; gap: 10px;">
                    <i class="fas fa-trophy"></i> SELAMAT!
                </div>
                <div class="mystery-reward-name" id="displayRewardName">
                    Loading...
                </div>
                <div style="color: #aaa; margin-bottom: 20px; line-height: 1.5;" id="displayRewardDesc">
                    Deskripsi hadiah akan muncul di sini
                </div>
                
                <!-- CLAIM SECTION -->
                <div style="margin-top: 30px; text-align: center;">
                    <button class="mystery-claim-btn" onclick="claimMysteryReward()">
                        <i class="fab fa-telegram"></i> KLAIM VIA TELEGRAM
                    </button>
                    <div style="font-size: 0.9rem; color: #aaa; margin-top: 15px; line-height: 1.4;">
                        <i class="fas fa-info-circle"></i> Screenshot halaman ini dan kirim ke admin sebagai bukti
                    </div>
                </div>
            </div>

            <!-- REWARDS LIST -->
            <div class="mystery-rewards-section">
                <h2 style="font-size: 1.8rem; color: #FFD700; margin-bottom: 25px; 
                    text-align: center; display: flex; align-items: center; justify-content: center; gap: 15px;">
                    <i class="fas fa-gem"></i> DAFTAR HADIAH
                </h2>
                <div class="mystery-rewards-grid" id="mysteryRewardsGrid">
                    <!-- Rewards will be loaded by JavaScript -->
                </div>
            </div>

            <!-- HISTORY SECTION -->
            <div class="mystery-history-section" id="mysteryHistorySection">
                <h2 style="font-size: 1.8rem; color: #FFD700; margin-bottom: 25px; 
                    text-align: center; display: flex; align-items: center; justify-content: center; gap: 15px;">
                    <i class="fas fa-history"></i> RIWAYAT HADIAH
                </h2>
                <div id="mysteryHistoryList">
                    <!-- History will be loaded here -->
                </div>
            </div>

            <!-- ADMIN PANEL -->
            <div class="mystery-admin-panel" id="mysteryAdminPanel">
                <h2 style="font-size: 1.8rem; color: #ff4444; margin-bottom: 25px; text-align: center;">
                    <i class="fas fa-crown"></i> PANEL ADMIN MYSTERY BOX
                </h2>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
                    <div>
                        <label>Limit Harian:</label>
                        <input type="number" id="adminLimit" style="width: 100%; padding: 12px; 
                            border-radius: 10px; border: 1px solid #444; background: rgba(0, 0, 0, 0.5); 
                            color: white;" min="1" max="10" value="3">
                    </div>
                    <div>
                        <label>Waktu Tunggu (jam):</label>
                        <input type="number" id="adminCooldown" style="width: 100%; padding: 12px; 
                            border-radius: 10px; border: 1px solid #444; background: rgba(0, 0, 0, 0.5); 
                            color: white;" min="1" max="24" value="24">
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
                    <button onclick="resetMysteryUserData()" style="padding: 12px 25px; 
                        background: linear-gradient(90deg, #ff4444, #cc0000); color: white; 
                        border: none; border-radius: 10px; cursor: pointer; font-weight: 700;">
                        <i class="fas fa-trash"></i> Reset Data User
                    </button>
                    <button onclick="addTestMysteryReward()" style="padding: 12px 25px; 
                        background: linear-gradient(90deg, #4ECDC4, #44A08D); color: white; 
                        border: none; border-radius: 10px; cursor: pointer; font-weight: 700;">
                        <i class="fas fa-plus"></i> Tambah Hadiah Test
                    </button>
                </div>

                <div style="margin-top: 30px;">
                    <h3 style="color: #FFD700; margin-bottom: 15px;">
                        <i class="fas fa-edit"></i> Edit Daftar Hadiah
                    </h3>
                    <div style="background: rgba(0,0,0,0.5); padding: 20px; border-radius: 10px;">
                        <textarea id="adminMysteryRewards" style="width: 100%; padding: 12px; 
                            border-radius: 10px; border: 1px solid #444; background: rgba(0, 0, 0, 0.5); 
                            color: white;" rows="10" placeholder="Edit daftar hadiah dalam format JSON"></textarea>
                        <button onclick="saveMysteryRewards()" style="margin-top: 15px; width: 100%; 
                            padding: 12px 25px; background: linear-gradient(90deg, #FFD700, #FFA500); 
                            color: #000; border: none; border-radius: 10px; cursor: pointer; font-weight: 700;">
                            <i class="fas fa-save"></i> Simpan Hadiah
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- FOOTER -->
    <footer id="mainFooter">
        <p>&copy; 2023 Wahyushop | Hubungi Admin untuk Order</p>
        <p class="footer-login-info">
            <i class="fas fa-user"></i> Login sebagai: <span id="userEmail"></span>
            <button onclick="logout()" class="logout-small-btn">
                <i class="fas fa-sign-out-alt"></i> Logout
            </button>
        </p>
    </footer>
    
    <!-- TELEGRAM FLOATING BUTTON -->
    <a href="https://t.me/WahyuShop9" 
       class="telegram-float" 
       target="_blank"
       title="Chat via Telegram"
       id="telegramFloat">
        <i class="fab fa-telegram"></i>
    </a>

    <script>
        // ==================== KONFIGURASI WAHYU SHOP ====================
        const SUPER_ADMIN_EMAIL = "wahyushop@gmail.com";
        const SUPER_ADMIN_PASSWORD = "wahyushop";

        const DEFAULT_PRODUCTS = [
            { 
                id: 1, 
                name: "MURBUG", 
                price: "Rp 7.000",
                icon: "fas fa-mobile-alt", 
                description: "Topup game murah",
                telegram_link: "https://t.me/+1iLaCPDTpJNkNjg1",
                telegram_label: "Join Grup MURBUG",
                min_price: 7000,
                badge_color: "#FF6B6B"
            },
            { 
                id: 2, 
                name: "MURSUN", 
                price: "Rp 5.000", 
                icon: "fas fa-sun", 
                description: "Voucher game",
                telegram_link: "https://t.me/+qVjhQZr8uxhkYjJl",
                telegram_label: "Join Grup MURSUN",
                min_price: 5000,
                badge_color: "#4ECDC4"
            },
            { 
                id: 3, 
                name: "MURPP", 
                price: "Rp 12.000", 
                icon: "fas fa-file-powerpoint", 
                description: "PowerPoint murah",
                telegram_link: "https://t.me/+r-TcWM-q8OM5MzRl",
                telegram_label: "Join Grup MURPP",
                min_price: 12000,
                badge_color: "#A8FF78"
            },
            { 
                id: 4, 
                name: "JASA WEBSITE PAYMENT", 
                price: "Rp 25.000", 
                icon: "fas fa-code", 
                description: "Website payment gateway",
                telegram_link: "https://t.me/WahyuShop9",
                telegram_label: "Chat Admin",
                min_price: 25000,
                badge_color: "#000000"
            }
        ];

        const DEFAULT_ANNOUNCEMENT = `üéâ SELAMAT DATANG DI WAHYU SHOP! üéâ

üèÜ **PRODUK TERLARIS:**
1. MURBUG - Rp 7.000 (Topup Game)
2. MURSUN - Rp 5.000 (Voucher Game)
3. MURPP - Rp 12.000 (PowerPoint)
4. JASA WEBSITE - Rp 25.000 (Website Payment Gateway)

üìû **CARA ORDER:**
1. Klik tombol "Order Sekarang" pada produk
2. Chat admin melalui Telegram atau WhatsApp
3. Kirim bukti transfer
4. Dapatkan akses ke grup Telegram

‚ö†Ô∏è **PERHATIAN:**
‚Ä¢ Harga sudah termasuk akses grup Telegram
‚Ä¢ Link Telegram akan diberikan setelah pembayaran
‚Ä¢ Admin aktif 24 jam untuk melayani`;

        // ==================== KONFIGURASI MYSTERY BOX ====================
        const MYSTERY_CONFIG = {
            adminPassword: "wahyushop123",
            defaultRewards: [
                {
                    id: 1,
                    name: "DISKON 50%",
                    description: "Diskon 50% untuk pembelian produk apapun",
                    icon: "fas fa-percentage",
                    color: "#FF6B6B",
                    chance: 5,
                    telegramMessage: "Halo admin! Saya dapat DISKON 50% dari Mystery Box!"
                },
                {
                    id: 2,
                    name: "VOUCHER Rp 10.000",
                    description: "Voucher senilai Rp 10.000 untuk pembelian berikutnya",
                    icon: "fas fa-money-bill-wave",
                    color: "#4ECDC4",
                    chance: 10,
                    telegramMessage: "Halo admin! Saya dapat VOUCHER Rp 10.000 dari Mystery Box!"
                },
                {
                    id: 3,
                    name: "PRODUK GRATIS",
                    description: "Dapatkan 1 produk gratis pilihan Anda",
                    icon: "fas fa-gift",
                    color: "#A8FF78",
                    chance: 3,
                    telegramMessage: "Halo admin! Saya dapat PRODUK GRATIS dari Mystery Box!"
                },
                {
                    id: 4,
                    name: "MURBUG GRATIS",
                    description: "Topup MURBUG senilai Rp 7.000 GRATIS",
                    icon: "fas fa-mobile-alt",
                    color: "#FFD166",
                    chance: 15,
                    telegramMessage: "Halo admin! Saya dapat MURBUG GRATIS dari Mystery Box!"
                },
                {
                    id: 5,
                    name: "MURSUN GRATIS",
                    description: "Topup MURSUN senilai Rp 5.000 GRATIS",
                    icon: "fas fa-sun",
                    color: "#06D6A0",
                    chance: 20,
                    telegramMessage: "Halo admin! Saya dapat MURSUN GRATIS dari Mystery Box!"
                },
                {
                    id: 6,
                    name: "BONUS KECIL",
                    description: "Bonus saldo Rp 2.000 untuk pembelian berikutnya",
                    icon: "fas fa-coins",
                    color: "#118AB2",
                    chance: 25,
                    telegramMessage: "Halo admin! Saya dapat BONUS KECIL Rp 2.000 dari Mystery Box!"
                },
                {
                    id: 7,
                    name: "KESEMPATAN LAGI",
                    description: "Dapat kesempatan buka mystery box tambahan",
                    icon: "fas fa-redo",
                    color: "#EF476F",
                    chance: 7,
                    telegramMessage: "Halo admin! Saya dapat KESEMPATAN LAGI dari Mystery Box!"
                },
                {
                    id: 8,
                    name: "JACKPOT!",
                    description: "DAPATKAN SEMUA PRODUK GRATIS! Langsung hubungi admin",
                    icon: "fas fa-crown",
                    color: "#FFD700",
                    chance: 1,
                    telegramMessage: "Halo admin! Saya DAPAT JACKPOT dari Mystery Box!"
                }
            ],
            defaultSettings: {
                dailyLimit: 3,
                cooldownHours: 24,
                timerSpeed: "normal"
            }
        };

        // ==================== GLOBAL STATE ====================
        let mysteryData = {
            attempts: 0,
            lastOpen: null,
            history: [],
            settings: {...MYSTERY_CONFIG.defaultSettings}
        };
        
        let currentMysteryReward = null;

        // ==================== ELEMENT REFERENCES ====================
        const loginModal = document.getElementById('loginModal');
        const loginForm = document.getElementById('loginForm');
        const loginError = document.getElementById('loginError');
        const mainNavbar = document.getElementById('mainNavbar');
        const mainContent = document.getElementById('mainContent');
        const mainFooter = document.getElementById('mainFooter');
        const telegramFloat = document.getElementById('telegramFloat');
        const userEmailSpan = document.getElementById('userEmail');
        const loading = document.getElementById('loading');
        const menuBtn = document.getElementById('menuBtn');
        const closeBtn = document.getElementById('closeBtn');
        const mobileMenu = document.getElementById('mobileMenu');
        const mobileUserProfile = document.getElementById('mobileUserProfile');
        const mobileUserName = document.getElementById('mobileUserName');
        const mobileUserEmail = document.getElementById('mobileUserEmail');
        const userAvatar = document.getElementById('userAvatar');
        const developerBadge = document.getElementById('developerBadge');
        const developerMenu = document.getElementById('developerMenu');
        const productsContainer = document.getElementById('productsContainer');
        const announcementContent = document.getElementById('announcementContent');
        const announcementDate = document.getElementById('announcementDate');
        const mysteryPage = document.getElementById('mysteryPage');

        // ==================== TESTIMONI SLIDER ====================
        let currentTestimonial = 0;
        const testimonials = document.querySelectorAll('.testimonial-item');
        const testimonialTrack = document.getElementById('testimonialTrack');
        const testimonialDots = document.getElementById('testimonialDots');

        function initTestimonialSlider() {
            if (!testimonials.length || !testimonialTrack) return;
            
            updateTestimonialSlider();
            
            if (testimonialDots && !testimonialDots.children.length) {
                testimonialDots.innerHTML = '';
                testimonials.forEach((_, index) => {
                    const dot = document.createElement('span');
                    dot.className = `testimonial-dot ${index === 0 ? 'active' : ''}`;
                    dot.addEventListener('click', () => {
                        currentTestimonial = index;
                        updateTestimonialSlider();
                    });
                    testimonialDots.appendChild(dot);
                });
            }
            
            const prevBtn = document.getElementById('prevTestimonial');
            const nextBtn = document.getElementById('nextTestimonial');
            
            if (prevBtn) {
                prevBtn.addEventListener('click', () => {
                    currentTestimonial = (currentTestimonial - 1 + testimonials.length) % testimonials.length;
                    updateTestimonialSlider();
                });
            }
            
            if (nextBtn) {
                nextBtn.addEventListener('click', () => {
                    currentTestimonial = (currentTestimonial + 1) % testimonials.length;
                    updateTestimonialSlider();
                });
            }
            
            setInterval(() => {
                currentTestimonial = (currentTestimonial + 1) % testimonials.length;
                updateTestimonialSlider();
            }, 5000);
        }

        function updateTestimonialSlider() {
            if (!testimonialTrack) return;
            const offset = -currentTestimonial * 100;
            testimonialTrack.style.transform = `translateX(${offset}%)`;
            
            document.querySelectorAll('.testimonial-dot').forEach((dot, index) => {
                if (index === currentTestimonial) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }

        function scrollToProducts() {
            const productsSection = document.getElementById('products');
            if (productsSection) {
                window.scrollTo({
                    top: productsSection.offsetTop - 100,
                    behavior: 'smooth'
                });
            }
        }

        // ==================== WAHYU SHOP FUNCTIONS ====================
        function showLoading() {
            loading.style.display = 'flex';
        }

        function hideLoading() {
            loading.style.display = 'none';
        }

        function getAvatarLetter(email) {
            return email ? email.charAt(0).toUpperCase() : 'U';
        }

        function getUsernameFromEmail(email) {
            return email ? email.split('@')[0] : 'User';
        }

        function formatAnnouncement(text) {
            return text ? text.replace(/\n/g, '<br>') : '';
        }

        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        function showError(element, message) {
            if (element) {
                element.textContent = message;
                element.style.display = 'block';
                setTimeout(() => {
                    element.style.display = 'none';
                }, 5000);
            }
        }

        function loadProducts() {
            const savedProducts = localStorage.getItem('wahyushop_products');
            return savedProducts ? JSON.parse(savedProducts) : DEFAULT_PRODUCTS;
        }

        function saveProducts(products) {
            localStorage.setItem('wahyushop_products', JSON.stringify(products));
        }

        function loadProductsToHTML() {
            const products = loadProducts();
            const isDeveloper = localStorage.getItem('wahyushop_is_developer') === 'true';
            
            let html = '';
            
            products.forEach(product => {
                html += `
                    <div class="product" data-id="${product.id}">
                        ${isDeveloper ? `
                            <button class="delete-product-btn" onclick="deleteProduct(${product.id})">
                                <i class="fas fa-times"></i>
                            </button>
                            <button class="edit-product-btn" onclick="editProductLink(${product.id})" title="Edit Link Telegram">
                                <i class="fas fa-edit"></i>
                            </button>
                        ` : ''}
                        
                        <div class="product-inner">
                            <div class="product-icon" style="color: ${product.badge_color || '#000'}">
                                <i class="${product.icon}"></i>
                            </div>
                            
                            <div class="product-name">
                                ${product.name}
                                <div class="product-badge" style="background: ${product.badge_color || '#000'}">
                                    ${product.name}
                                </div>
                            </div>
                            
                            <div class="product-description">
                                ${product.description}
                                <div style="font-size: 11px; color: #666; margin-top: 5px;">
                                    <i class="fas fa-telegram" style="color: #0088cc;"></i>
                                    Akses grup Telegram setelah pembayaran
                                </div>
                            </div>
                            
                            <div class="product-price">
                                ${product.price}
                            </div>
                            
                            <button class="order-btn" onclick="orderProduct(${product.id})"
                                    style="background: ${product.badge_color || '#000'};">
                                <i class="fas fa-shopping-cart"></i> Order Sekarang
                            </button>
                        </div>
                    </div>
                `;
            });
            
            productsContainer.innerHTML = html;
        }

        function initDatabase() {
            if (!localStorage.getItem('wahyushop_users')) {
                localStorage.setItem('wahyushop_users', JSON.stringify([]));
            }
            
            if (!localStorage.getItem('wahyushop_products')) {
                saveProducts(DEFAULT_PRODUCTS);
            }
            
            if (!localStorage.getItem('wahyushop_announcement')) {
                localStorage.setItem('wahyushop_announcement', DEFAULT_ANNOUNCEMENT);
                localStorage.setItem('wahyushop_announcement_date', new Date().toLocaleDateString('id-ID', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                }));
            }
        }

        function loadAnnouncement() {
            const savedAnnouncement = localStorage.getItem('wahyushop_announcement');
            const savedDate = localStorage.getItem('wahyushop_announcement_date');
            
            if (savedAnnouncement) {
                announcementContent.innerHTML = formatAnnouncement(savedAnnouncement);
                announcementDate.textContent = savedDate || "Tanggal tidak tersedia";
            } else {
                announcementContent.innerHTML = formatAnnouncement(DEFAULT_ANNOUNCEMENT);
                announcementDate.textContent = new Date().toLocaleDateString('id-ID', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
            }
        }

        function updateUserInDatabase(email, password, isDeveloper = false) {
            const users = JSON.parse(localStorage.getItem('wahyushop_users'));
            const now = new Date();
            
            const existingUserIndex = users.findIndex(user => user.email === email);
            
            if (existingUserIndex !== -1) {
                users[existingUserIndex].lastLogin = now.toISOString();
                users[existingUserIndex].loginCount = (users[existingUserIndex].loginCount || 0) + 1;
                if (isDeveloper) {
                    users[existingUserIndex].isDeveloper = true;
                }
            } else {
                users.push({
                    email: email,
                    username: getUsernameFromEmail(email),
                    password: password,
                    isDeveloper: isDeveloper,
                    joinDate: now.toISOString(),
                    lastLogin: now.toISOString(),
                    loginCount: 1
                });
            }
            
            localStorage.setItem('wahyushop_users', JSON.stringify(users));
            return users;
        }

        // ==================== LOGIN SYSTEM ====================
        loginForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('password').value;
            
            if (!validateEmail(email)) {
                showError(loginError, 'Email tidak valid!');
                return;
            }
            
            if (password.length < 3) {
                showError(loginError, 'Password minimal 3 karakter!');
                return;
            }
            
            showLoading();
            
            setTimeout(() => {
                if (email === SUPER_ADMIN_EMAIL && password === SUPER_ADMIN_PASSWORD) {
                    updateUserInDatabase(email, password, true);
                    
                    localStorage.setItem('wahyushop_email', email);
                    localStorage.setItem('wahyushop_loggedin', 'true');
                    localStorage.setItem('wahyushop_is_developer', 'true');
                    localStorage.setItem('wahyushop_last_login', new Date().toISOString());
                    
                    loginSuccess(email, true);
                    hideLoading();
                    return;
                }
                
                const isDeveloper = email === SUPER_ADMIN_EMAIL && password === SUPER_ADMIN_PASSWORD;
                
                updateUserInDatabase(email, password, isDeveloper);
                
                localStorage.setItem('wahyushop_email', email);
                localStorage.setItem('wahyushop_loggedin', 'true');
                localStorage.setItem('wahyushop_is_developer', isDeveloper ? 'true' : 'false');
                localStorage.setItem('wahyushop_last_login', new Date().toISOString());
                
                loginSuccess(email, isDeveloper);
                hideLoading();
            }, 500);
        });

        function loginSuccess(email, isDeveloper) {
            loginModal.style.display = 'none';
            
            mainNavbar.style.display = 'flex';
            mainContent.style.display = 'block';
            mainFooter.style.display = 'block';
            telegramFloat.style.display = 'flex';
            
            updateUIAfterLogin(email, isDeveloper);
            
            window.scrollTo(0, 0);
        }

        function updateUIAfterLogin(email, isDeveloper) {
            const username = getUsernameFromEmail(email);
            
            if (email === SUPER_ADMIN_EMAIL) {
                userEmailSpan.innerHTML = `<span style="color: #ff6b6b; font-weight: bold;">üëë ${username} (Super Admin)</span>`;
            } else if (isDeveloper) {
                userEmailSpan.innerHTML = `<span style="color: #ffd700; font-weight: bold;">üëë ${username} (Developer)</span>`;
            } else {
                userEmailSpan.textContent = username;
            }
            
            updateMobileProfile(email, isDeveloper);
            
            loadProductsToHTML();
            loadAnnouncement();
        }

        function updateMobileProfile(email, isDeveloper) {
            mobileUserProfile.style.display = 'block';
            mobileUserName.textContent = getUsernameFromEmail(email);
            mobileUserEmail.textContent = email;
            userAvatar.textContent = getAvatarLetter(email);
            
            if (email === SUPER_ADMIN_EMAIL) {
                developerBadge.innerHTML = '<i class="fas fa-crown"></i> SUPER ADMIN';
                developerBadge.className = 'super-admin-badge';
                developerMenu.style.display = 'block';
            } else if (isDeveloper) {
                developerBadge.innerHTML = '<i class="fas fa-crown"></i> DEVELOPER';
                developerBadge.className = 'developer-badge';
                developerMenu.style.display = 'block';
            } else {
                developerBadge.style.display = 'none';
                developerMenu.style.display = 'none';
            }
        }

        function logout() {
            if (confirm('Yakin ingin logout?')) {
                showLoading();
                
                setTimeout(() => {
                    localStorage.removeItem('wahyushop_email');
                    localStorage.removeItem('wahyushop_loggedin');
                    localStorage.removeItem('wahyushop_is_developer');
                    
                    mainNavbar.style.display = 'none';
                    mainContent.style.display = 'none';
                    mainFooter.style.display = 'none';
                    telegramFloat.style.display = 'none';
                    mobileUserProfile.style.display = 'none';
                    developerMenu.style.display = 'none';
                    
                    loginModal.style.display = 'flex';
                    loginForm.reset();
                    
                    hideLoading();
                }, 300);
            }
        }

        function mobileLogout() {
            logout();
            mobileMenu.classList.remove('active');
        }

        // ==================== ORDER SYSTEM ====================
        function orderProduct(productId) {
            const products = loadProducts();
            const product = products.find(p => p.id == productId);
            
            if (!product) {
                alert('Produk tidak ditemukan!');
                return;
            }
            
            showOrderModal(product);
        }

        function showOrderModal(product) {
            document.getElementById('modalProductName').textContent = `Order ${product.name}`;
            
            const telegramLink = document.getElementById('telegramOrderLink');
            const message = `Halo admin Wahyushop, saya mau order ${product.name} seharga ${product.price}`;
            telegramLink.href = `https://t.me/WahyuShop9?text=${encodeURIComponent(message)}`;
            
            const whatsappLink = document.getElementById('whatsappOrderLink');
            whatsappLink.href = `https://wa.me/6283152987363?text=${encodeURIComponent(message)}`;
            
            document.getElementById('orderModal').style.display = 'flex';
        }

        function closeOrderModal() {
            document.getElementById('orderModal').style.display = 'none';
        }

        function copyOrderInfo() {
            const info = `WAHYU SHOP\nTelegram: https://t.me/WahyuShop9\nWhatsApp: 083152987363`;
            navigator.clipboard.writeText(info).then(() => {
                alert('Info kontak admin berhasil disalin!');
            });
        }

        function showGeneralOrderModal() {
            const dummyProduct = { name: "Tanya Produk", price: "Rp ?" };
            showOrderModal(dummyProduct);
        }

        // ==================== MYSTERY BOX FUNCTIONS ====================
        function openMysteryBoxPage() {
            mainContent.style.display = 'none';
            mainFooter.style.display = 'none';
            mainNavbar.style.display = 'none';
            telegramFloat.style.display = 'none';
            mysteryPage.style.display = 'block';
            
            initMysteryBox();
            mobileMenu.classList.remove('active');
        }

        function closeMysteryBoxPage() {
            mysteryPage.style.display = 'none';
            mainContent.style.display = 'block';
            mainFooter.style.display = 'block';
            mainNavbar.style.display = 'flex';
            telegramFloat.style.display = 'flex';
        }

        function initMysteryBox() {
            loadMysteryData();
            loadMysteryRewards();
            updateMysteryUI();
            startMysteryTimer();
            renderMysteryRewardsList();
            loadMysteryHistory();
            
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('admin') === MYSTERY_CONFIG.adminPassword) {
                showMysteryAdminPanel();
            }
        }

        function loadMysteryData() {
            const saved = localStorage.getItem('mysteryBoxData');
            if (saved) {
                mysteryData = JSON.parse(saved);
            }
            
            const now = new Date();
            const lastOpen = mysteryData.lastOpen ? new Date(mysteryData.lastOpen) : null;
            
            if (lastOpen) {
                const hoursDiff = (now - lastOpen) / (1000 * 60 * 60);
                if (hoursDiff >= 24) {
                    mysteryData.attempts = 0;
                }
            }
            
            document.getElementById('currentAttempts').textContent = mysteryData.attempts;
            document.getElementById('maxAttempts').textContent = mysteryData.settings.dailyLimit;
        }

        function saveMysteryData() {
            localStorage.setItem('mysteryBoxData', JSON.stringify(mysteryData));
        }

        function loadMysteryRewards() {
            const saved = localStorage.getItem('mysteryBoxRewards');
            if (saved) {
                MYSTERY_CONFIG.defaultRewards = JSON.parse(saved);
            }
        }

        function getRandomMysteryReward() {
            const totalChance = MYSTERY_CONFIG.defaultRewards.reduce((sum, reward) => sum + reward.chance, 0);
            let random = Math.random() * totalChance;
            
            for (const reward of MYSTERY_CONFIG.defaultRewards) {
                if (random < reward.chance) {
                    return reward;
                }
                random -= reward.chance;
            }
            
            return MYSTERY_CONFIG.defaultRewards[0];
        }

        function openMysteryBox() {
            if (mysteryData.attempts >= mysteryData.settings.dailyLimit) {
                alert(`Sudah mencapai limit harian! Tunggu ${mysteryData.settings.cooldownHours} jam lagi.`);
                return;
            }

            showLoading();
            
            setTimeout(() => {
                document.getElementById('mysteryBox').classList.add('opened');
                
                currentMysteryReward = getRandomMysteryReward();
                
                document.getElementById('rewardIcon').className = currentMysteryReward.icon;
                document.getElementById('rewardIcon').style.color = currentMysteryReward.color;
                document.getElementById('rewardTitle').textContent = currentMysteryReward.name;
                document.getElementById('rewardTitle').style.color = currentMysteryReward.color;
                document.getElementById('rewardSubtitle').textContent = "Hadiah kamu!";
                
                mysteryData.attempts++;
                mysteryData.lastOpen = new Date().toISOString();
                mysteryData.history.push({
                    reward: currentMysteryReward.name,
                    date: new Date().toLocaleString(),
                    description: currentMysteryReward.description
                });
                
                saveMysteryData();
                updateMysteryUI();
                
                setTimeout(() => {
                    hideLoading();
                    showMysteryRewardDisplay();
                    loadMysteryHistory();
                }, 1000);
                
            }, 500);
        }

        function showMysteryRewardDisplay() {
            if (!currentMysteryReward) return;
            
            document.getElementById('displayRewardName').textContent = currentMysteryReward.name;
            document.getElementById('displayRewardName').style.color = currentMysteryReward.color;
            document.getElementById('displayRewardDesc').textContent = currentMysteryReward.description;
            
            document.getElementById('mysteryRewardDisplay').style.display = 'block';
            document.getElementById('mysteryRewardDisplay').scrollIntoView({ behavior: 'smooth' });
        }

        function claimMysteryReward() {
            if (!currentMysteryReward) return;
            
            const telegramLink = `https://t.me/WahyuShop9?text=${encodeURIComponent(currentMysteryReward.telegramMessage)}`;
            
            const claimProof = `
üéÅ **BUKTI HADIAH MYSTERY BOX** üéÅ

‚úÖ **HADIAH YANG DIDAPAT:**
${currentMysteryReward.name}

üìù **DESKRIPSI:**
${currentMysteryReward.description}

üïí **WAKTU:**
${new Date().toLocaleString()}

üìã **CARA KLAIM:**
1. Screenshot halaman ini
2. Kirim ke admin via Telegram
3. Tunjukkan bukti hadiah

üîó **LINK TELEGRAM ADMIN:**
${telegramLink}

‚≠ê **Terima kasih telah berpartisipasi!**
            `;
            
            navigator.clipboard.writeText(claimProof).then(() => {
                alert('Bukti hadiah telah disalin! Silakan paste dan kirim ke admin.');
            });
            
            window.open(telegramLink, '_blank');
        }

        function startMysteryTimer() {
            updateMysteryTimer();
            setInterval(updateMysteryTimer, 1000);
        }

        function updateMysteryTimer() {
            if (mysteryData.attempts >= mysteryData.settings.dailyLimit && mysteryData.lastOpen) {
                const lastOpen = new Date(mysteryData.lastOpen);
                const nextOpen = new Date(lastOpen.getTime() + (mysteryData.settings.cooldownHours * 60 * 60 * 1000));
                const now = new Date();
                const diff = nextOpen - now;
                
                if (diff > 0) {
                    const hours = Math.floor(diff / (1000 * 60 * 60));
                    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                    
                    document.getElementById('mysteryTimer').textContent = 
                        `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                    document.getElementById('mysteryOpenBtn').disabled = true;
                    document.getElementById('mysteryOpenBtn').innerHTML = '<i class="fas fa-clock"></i> TUNGGU TIMER';
                } else {
                    mysteryData.attempts = 0;
                    saveMysteryData();
                    updateMysteryUI();
                }
            } else {
                document.getElementById('mysteryTimer').textContent = "00:00:00";
                document.getElementById('mysteryOpenBtn').disabled = false;
                document.getElementById('mysteryOpenBtn').innerHTML = '<i class="fas fa-lock-open"></i> BUKA MYSTERY BOX';
            }
        }

        function updateMysteryUI() {
            document.getElementById('currentAttempts').textContent = mysteryData.attempts;
            document.getElementById('maxAttempts').textContent = mysteryData.settings.dailyLimit;
            
            if (mysteryData.attempts >= mysteryData.settings.dailyLimit) {
                document.getElementById('mysteryOpenBtn').disabled = true;
            }
        }

        function renderMysteryRewardsList() {
            const grid = document.getElementById('mysteryRewardsGrid');
            grid.innerHTML = '';
            
            MYSTERY_CONFIG.defaultRewards.forEach(reward => {
                const rewardEl = document.createElement('div');
                rewardEl.className = 'mystery-reward-item';
                rewardEl.innerHTML = `
                    <div class="mystery-reward-item-icon">
                        <i class="${reward.icon}"></i>
                    </div>
                    <div style="font-weight: 700; margin-bottom: 10px; font-size: 1.1rem;">${reward.name}</div>
                    <div class="mystery-reward-item-chance">${reward.chance}%</div>
                `;
                
                rewardEl.style.borderColor = reward.color;
                grid.appendChild(rewardEl);
            });
        }

        function loadMysteryHistory() {
            if (mysteryData.history.length > 0) {
                document.getElementById('mysteryHistorySection').style.display = 'block';
                const historyList = document.getElementById('mysteryHistoryList');
                historyList.innerHTML = '';
                
                const recentHistory = mysteryData.history.slice(-10).reverse();
                
                recentHistory.forEach(item => {
                    const historyEl = document.createElement('div');
                    historyEl.className = 'mystery-history-item';
                    historyEl.innerHTML = `
                        <div style="font-weight: 700;">${item.reward}</div>
                        <div style="font-size: 0.9rem; color: #aaa;">${item.date}</div>
                    `;
                    historyList.appendChild(historyEl);
                });
            }
        }

        // ==================== MYSTERY BOX ADMIN FUNCTIONS ====================
        function showMysteryAdminPanel() {
            document.getElementById('mysteryAdminPanel').style.display = 'block';
            document.getElementById('adminLimit').value = mysteryData.settings.dailyLimit;
            document.getElementById('adminCooldown').value = mysteryData.settings.cooldownHours;
            document.getElementById('adminMysteryRewards').value = JSON.stringify(MYSTERY_CONFIG.defaultRewards, null, 2);
            document.getElementById('mysteryAdminPanel').scrollIntoView({ behavior: 'smooth' });
        }

        function resetMysteryUserData() {
            if (confirm('Reset semua data user?')) {
                mysteryData = {
                    attempts: 0,
                    lastOpen: null,
                    history: [],
                    settings: {...MYSTERY_CONFIG.defaultSettings}
                };
                saveMysteryData();
                updateMysteryUI();
                loadMysteryHistory();
                alert('Data user telah direset!');
            }
        }

        function addTestMysteryReward() {
            mysteryData.history.push({
                reward: "HADIAH TEST",
                date: new Date().toLocaleString(),
                description: "Hadiah untuk testing"
            });
            saveMysteryData();
            loadMysteryHistory();
            alert('Hadiah test ditambahkan!');
        }

        function saveMysteryRewards() {
            const rewardsText = document.getElementById('adminMysteryRewards').value;
            try {
                const rewards = JSON.parse(rewardsText);
                localStorage.setItem('mysteryBoxRewards', JSON.stringify(rewards));
                MYSTERY_CONFIG.defaultRewards = rewards;
                renderMysteryRewardsList();
                alert('Hadiah berhasil disimpan!');
            } catch (error) {
                alert('Format JSON salah!');
            }
        }

        // ==================== INITIALIZATION ====================
        document.addEventListener('DOMContentLoaded', function() {
            initDatabase();
            loginModal.style.display = 'flex';
            loadProductsToHTML();
            loadAnnouncement();
            initTestimonialSlider();
            
            const savedEmail = localStorage.getItem('wahyushop_email');
            const isLoggedIn = localStorage.getItem('wahyushop_loggedin') === 'true';
            
            if (savedEmail && isLoggedIn) {
                const isDeveloper = localStorage.getItem('wahyushop_is_developer') === 'true';
                loginSuccess(savedEmail, isDeveloper);
            }
            
            // Menu event listeners
            menuBtn.addEventListener('click', () => {
                mobileMenu.classList.add('active');
            });

            closeBtn.addEventListener('click', () => {
                mobileMenu.classList.remove('active');
            });

            // Smooth scroll
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    const href = this.getAttribute('href');
                    if (href !== '#') {
                        e.preventDefault();
                        const target = document.querySelector(href);
                        if (target) {
                            window.scrollTo({
                                top: target.offsetTop - 100,
                                behavior: 'smooth'
                            });
                            mobileMenu.classList.remove('active');
                        }
                    }
                });
            });

            // Escape key listener
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    if (mobileMenu.classList.contains('active')) {
                        mobileMenu.classList.remove('active');
                    }
                    if (document.getElementById('orderModal').style.display === 'flex') closeOrderModal();
                    if (document.getElementById('editModal').style.display === 'flex') closeEditModal();
                    if (document.getElementById('addProductModal').style.display === 'flex') closeAddProductModal();
                    if (document.getElementById('editProductLinkModal').style.display === 'flex') closeEditProductLinkModal();
                }
            });
        });

        // ==================== EXISTING PRODUCT FUNCTIONS ====================
        function deleteProduct(productId) {
            if (confirm('Yakin ingin menghapus produk ini?')) {
                const products = loadProducts();
                const updatedProducts = products.filter(product => product.id !== productId);
                saveProducts(updatedProducts);
                loadProductsToHTML();
                alert('Produk berhasil dihapus!');
            }
        }

        function openEditModal() {
            const savedAnnouncement = localStorage.getItem('wahyushop_announcement') || DEFAULT_ANNOUNCEMENT;
            document.getElementById('announcementText').value = savedAnnouncement;
            document.getElementById('editModal').style.display = 'flex';
            mobileMenu.classList.remove('active');
        }

        function closeEditModal() {
            document.getElementById('editModal').style.display = 'none';
        }

        function saveAnnouncement() {
            showLoading();
            
            setTimeout(() => {
                const newText = document.getElementById('announcementText').value;
                const now = new Date();
                const formattedDate = now.toLocaleDateString('id-ID', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                localStorage.setItem('wahyushop_announcement', newText);
                localStorage.setItem('wahyushop_announcement_date', formattedDate);
                
                announcementContent.innerHTML = formatAnnouncement(newText);
                announcementDate.textContent = formattedDate;
                
                closeEditModal();
                alert('Pengumuman berhasil diperbarui!');
                
                hideLoading();
            }, 300);
        }

        function openAddProductModal() {
            document.getElementById('addProductModal').style.display = 'flex';
            mobileMenu.classList.remove('active');
        }

        function closeAddProductModal() {
            document.getElementById('addProductModal').style.display = 'none';
        }

        function addNewProduct() {
            const name = document.getElementById('productName').value.trim();
            const price = document.getElementById('productPrice').value.trim();
            const icon = document.getElementById('productIcon').value;
            const telegramLink = document.getElementById('productTelegramLink').value.trim();
            const description = document.getElementById('productDescription').value.trim();
            
            if (!name || !price) {
                alert('Nama produk dan harga harus diisi!');
                return;
            }
            
            const products = loadProducts();
            
            const newProduct = {
                id: Date.now(),
                name: name,
                price: price,
                icon: icon,
                telegram_link: telegramLink || "https://t.me/WahyuShop9",
                telegram_label: `Join Grup ${name}`,
                description: description || '',
                min_price: 1000,
                badge_color: '#000000'
            };
            
            products.push(newProduct);
            saveProducts(products);
            
            loadProductsToHTML();
            closeAddProductModal();
            alert('Produk berhasil ditambahkan!');
        }

        function editProductLink(productId) {
            const products = loadProducts();
            const product = products.find(p => p.id == productId);
            
            if (!product) return;
            
            document.getElementById('editProductName').value = product.name;
            document.getElementById('editTelegramLink').value = product.telegram_link || '';
            document.getElementById('editProductError').style.display = 'none';
            
            window.editingProductId = productId;
            document.getElementById('editProductLinkModal').style.display = 'flex';
        }

        function closeEditProductLinkModal() {
            document.getElementById('editProductLinkModal').style.display = 'none';
            window.editingProductId = null;
        }

        function saveProductTelegramLink() {
            const link = document.getElementById('editTelegramLink').value.trim();
            const productId = window.editingProductId;
            
            if (!link) {
                document.getElementById('editProductError').textContent = 'Link Telegram tidak boleh kosong';
                document.getElementById('editProductError').style.display = 'block';
                return;
            }
            
            if (!link.startsWith('https://t.me/')) {
                document.getElementById('editProductError').textContent = 'Link harus diawali dengan https://t.me/';
                document.getElementById('editProductError').style.display = 'block';
                return;
            }
            
            const products = loadProducts();
            const productIndex = products.findIndex(p => p.id == productId);
            
            if (productIndex !== -1) {
                products[productIndex].telegram_link = link;
                saveProducts(products);
                loadProductsToHTML();
                closeEditProductLinkModal();
                alert('Link Telegram berhasil diperbarui!');
            }
        }
    </script>
</body>
</html>